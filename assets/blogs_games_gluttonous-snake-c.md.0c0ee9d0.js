import{_ as t,C as o,c,H as s,k as p,w as l,a as n,Q as E,o as r}from"./chunks/framework.b5bec2ca.js";const q=JSON.parse('{"title":"贪吃蛇C语言实现","description":"","frontmatter":{"title":"贪吃蛇C语言实现","layout":"doc"},"headers":[],"relativePath":"blogs/games/gluttonous-snake-c.md","filePath":"blogs/games/gluttonous-snake-c.md","lastUpdated":1697914235000}'),y={name:"blogs/games/gluttonous-snake-c.md"},i=p("h1",{id:"贪吃蛇c语言实现",tabindex:"-1"},[n("贪吃蛇C语言实现 "),p("a",{class:"header-anchor",href:"#贪吃蛇c语言实现","aria-label":'Permalink to "贪吃蛇C语言实现"'},"​")],-1),F={style:{display:"flex",gap:"10px"}},A=E(`<div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">#include</span><span style="color:#9ECBFF;">&lt;stdio.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#9ECBFF;">&lt;time.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#9ECBFF;">&lt;windows.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#9ECBFF;">&lt;stdlib.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">#define</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">U</span><span style="color:#E1E4E8;"> 1</span></span>
<span class="line"><span style="color:#F97583;">#define</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">D</span><span style="color:#E1E4E8;"> 2</span></span>
<span class="line"><span style="color:#F97583;">#define</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">L</span><span style="color:#E1E4E8;"> 3</span></span>
<span class="line"><span style="color:#F97583;">#define</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">R</span><span style="color:#E1E4E8;"> 4 //蛇的状态，U：上 ；D：下；L:左 R：右</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">typedef</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">struct</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SNAKE</span><span style="color:#E1E4E8;"> {</span><span style="color:#6A737D;"> //蛇身的一个节点</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> x;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> y;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">struct</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SNAKE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">next;</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#B392F0;">snake</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//全局变量//</span></span>
<span class="line"><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> score</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,add</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span><span style="color:#6A737D;">//总得分与每次吃食物得分。</span></span>
<span class="line"><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> status,sleeptime</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">300</span><span style="color:#E1E4E8;">;</span><span style="color:#6A737D;">//每次运行的时间间隔</span></span>
<span class="line"><span style="color:#E1E4E8;">snake </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">head, </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">food;</span><span style="color:#6A737D;">//蛇头指针，食物指针</span></span>
<span class="line"><span style="color:#E1E4E8;">snake </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">q;</span><span style="color:#6A737D;">//遍历蛇的时候用到的指针</span></span>
<span class="line"><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> endgamestatus</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span><span style="color:#6A737D;"> //游戏结束的情况，1：撞到墙；2：咬到自己；3：主动退出游戏。</span></span>
<span class="line"><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> MapWidth </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">56</span><span style="color:#E1E4E8;">, MapHeigth </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">26</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//声明全部函数//</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">creatMap</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">initsnake</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">biteself</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">createfood</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">cantcrosswall</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">snakemove</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">pause</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">gamecircle</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">welcometogame</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">endgame</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">gamestart</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">x</span><span style="color:#E1E4E8;">,</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">y</span><span style="color:#E1E4E8;">) {</span><span style="color:#6A737D;"> //设置光标位置</span></span>
<span class="line"><span style="color:#E1E4E8;">    COORD pos;</span></span>
<span class="line"><span style="color:#E1E4E8;">    HANDLE hOutput;</span></span>
<span class="line"><span style="color:#E1E4E8;">    pos.X </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> x;</span></span>
<span class="line"><span style="color:#E1E4E8;">    pos.Y </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> y;</span></span>
<span class="line"><span style="color:#E1E4E8;">    hOutput </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">GetStdHandle</span><span style="color:#E1E4E8;">( STD_OUTPUT_HANDLE);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">SetConsoleCursorPosition</span><span style="color:#E1E4E8;">(hOutput,pos);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">creatMap</span><span style="color:#E1E4E8;">() {</span><span style="color:#6A737D;"> //创建地图</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> i;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;">(i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> MapWidth </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span><span style="color:#6A737D;"> //打印上下边框</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(i,</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;$&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(i, MapHeigth </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;$&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;">(i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> MapHeigth </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span><span style="color:#6A737D;"> //打印左右边框</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,i);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;$&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(MapWidth </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,i);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;$&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">initsnake</span><span style="color:#E1E4E8;">() {</span><span style="color:#6A737D;"> //初始化蛇身</span></span>
<span class="line"><span style="color:#E1E4E8;">    snake </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">tail;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> i;</span></span>
<span class="line"><span style="color:#E1E4E8;">    tail </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (snake</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)</span><span style="color:#B392F0;">malloc</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">sizeof</span><span style="color:#E1E4E8;">(snake));</span><span style="color:#6A737D;">//从蛇尾开始，头插法，以x,y设定开始的位置//</span></span>
<span class="line"><span style="color:#E1E4E8;">    tail-&gt;x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">24</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    tail-&gt;y </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    tail-&gt;next </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;">(i</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">; i</span><span style="color:#F97583;">&lt;=</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        head </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (snake</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)</span><span style="color:#B392F0;">malloc</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">sizeof</span><span style="color:#E1E4E8;">(snake));</span></span>
<span class="line"><span style="color:#E1E4E8;">        head-&gt;next </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> tail;</span></span>
<span class="line"><span style="color:#E1E4E8;">        head-&gt;x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">24</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> i;</span></span>
<span class="line"><span style="color:#E1E4E8;">        head-&gt;y </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        tail </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> head;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;">(tail </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">) {</span><span style="color:#6A737D;"> //从头到为，输出蛇身</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(tail-&gt;x, tail-&gt;y);</span><span style="color:#6A737D;">// 移动光标</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;#&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        tail </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> tail-&gt;next;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">biteself</span><span style="color:#E1E4E8;">() {</span><span style="color:#6A737D;"> //判断是否咬到了自己</span></span>
<span class="line"><span style="color:#E1E4E8;">    snake </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">self;</span></span>
<span class="line"><span style="color:#E1E4E8;">    self </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> head-&gt;next;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;">(self </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(self-&gt;x </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> head-&gt;x </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> self-&gt;y </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> head-&gt;y) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        self </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> self-&gt;next;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">createfood</span><span style="color:#E1E4E8;">() {</span><span style="color:#6A737D;"> //随机出现食物</span></span>
<span class="line"><span style="color:#E1E4E8;">    snake </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">food_1;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">srand</span><span style="color:#E1E4E8;">((</span><span style="color:#F97583;">unsigned</span><span style="color:#E1E4E8;">)</span><span style="color:#B392F0;">time</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">    food_1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (snake</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)</span><span style="color:#B392F0;">malloc</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">sizeof</span><span style="color:#E1E4E8;">(snake));</span></span>
<span class="line"><span style="color:#6A737D;">    // 保证食物在地图中</span></span>
<span class="line"><span style="color:#E1E4E8;">    food_1-&gt;x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">rand</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">%</span><span style="color:#E1E4E8;"> MapWidth </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    food_1-&gt;y </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">rand</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">%</span><span style="color:#E1E4E8;"> MapHeigth </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">    q </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> head;</span></span>
<span class="line"><span style="color:#6A737D;">    //检查蛇身是否与食物重合</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;">(q-&gt;next </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(q-&gt;x </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> food_1-&gt;x </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> q-&gt;y</span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;">food_1-&gt;y) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">free</span><span style="color:#E1E4E8;">(food_1);</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">createfood</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        q </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> q-&gt;next;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#6A737D;">    // 出现食物</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(food_1-&gt;x,food_1-&gt;y);</span></span>
<span class="line"><span style="color:#E1E4E8;">    food </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> food_1;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;@&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">cantcrosswall</span><span style="color:#E1E4E8;">() {</span><span style="color:#6A737D;"> //不能穿墙</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(head-&gt;x </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> head-&gt;x </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> MapWidth </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;">head-&gt;y</span><span style="color:#F97583;">==</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> head-&gt;y </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> MapHeigth) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        endgamestatus</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">endgame</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">snakemove</span><span style="color:#E1E4E8;">() {</span><span style="color:#6A737D;"> //蛇前进,上U,下D,左L,右R</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">cantcrosswall</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">biteself</span><span style="color:#E1E4E8;">()) {</span><span style="color:#6A737D;"> //判断是否会咬到自己</span></span>
<span class="line"><span style="color:#E1E4E8;">        endgamestatus </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">endgame</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span></span>
<span class="line"><span style="color:#E1E4E8;">    snake </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> nexthead;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">    nexthead</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">(snake</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)</span><span style="color:#B392F0;">malloc</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">sizeof</span><span style="color:#E1E4E8;">(snake));</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(status</span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;">U) {</span><span style="color:#6A737D;">// 向上移动</span></span>
<span class="line"><span style="color:#E1E4E8;">        nexthead-&gt;x</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">head-&gt;x;</span></span>
<span class="line"><span style="color:#E1E4E8;">        nexthead-&gt;y</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">head-&gt;y</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(status</span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;">D) {</span><span style="color:#6A737D;">// 向下移动</span></span>
<span class="line"><span style="color:#E1E4E8;">        nexthead-&gt;x</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">head-&gt;x;</span></span>
<span class="line"><span style="color:#E1E4E8;">        nexthead-&gt;y</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">head-&gt;y</span><span style="color:#F97583;">+</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(status</span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;">L) {</span><span style="color:#6A737D;">// 向左移动</span></span>
<span class="line"><span style="color:#E1E4E8;">        nexthead-&gt;x</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">head-&gt;x</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        nexthead-&gt;y</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">head-&gt;y;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(status</span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;">R) {</span><span style="color:#6A737D;">// 向右移动</span></span>
<span class="line"><span style="color:#E1E4E8;">        nexthead-&gt;x</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">head-&gt;x</span><span style="color:#F97583;">+</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        nexthead-&gt;y</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">head-&gt;y;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(nexthead-&gt;x </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> food-&gt;x </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> nexthead-&gt;y</span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;">food-&gt;y) {</span><span style="color:#6A737D;"> //如果下一个有食物//</span></span>
<span class="line"><span style="color:#E1E4E8;">        nexthead-&gt;next </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> head;</span></span>
<span class="line"><span style="color:#E1E4E8;">        head </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> nexthead;</span></span>
<span class="line"><span style="color:#E1E4E8;">        q </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> head;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;">(q</span><span style="color:#F97583;">!=</span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(q-&gt;x,q-&gt;y);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;#&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        q</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">q-&gt;next;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      score </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> score </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> add;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">createfood</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">      } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span><span style="color:#6A737D;"> //如果没有食物//</span></span>
<span class="line"><span style="color:#E1E4E8;">      nexthead-&gt;next </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> head;</span></span>
<span class="line"><span style="color:#E1E4E8;">      head </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> nexthead;</span></span>
<span class="line"><span style="color:#E1E4E8;">      q </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> head;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;">(q-&gt;next-&gt;next</span><span style="color:#F97583;">!=</span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(q-&gt;x,q-&gt;y);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;#&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        q</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">q-&gt;next;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(q-&gt;next-&gt;x,q-&gt;next-&gt;y);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot; &quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">free</span><span style="color:#E1E4E8;">(q-&gt;next);</span></span>
<span class="line"><span style="color:#E1E4E8;">      q-&gt;next</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">pause</span><span style="color:#E1E4E8;">() {</span><span style="color:#6A737D;"> //暂停</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Sleep</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">300</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">GetAsyncKeyState</span><span style="color:#E1E4E8;">(VK_SPACE)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">gamecircle</span><span style="color:#E1E4E8;">() {</span><span style="color:#6A737D;"> //控制游戏</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">64</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;不能穿墙，不能咬到自己&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">64</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">16</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;用↑.↓.←.→分别控制蛇的移动.&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">64</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">17</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;ESC ：退出游戏.space：暂停游戏.&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  status</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">R;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">64</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;得分：</span><span style="color:#79B8FF;">%d</span><span style="color:#9ECBFF;"> &quot;</span><span style="color:#E1E4E8;">,score);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">64</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">11</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;每个食物得分：</span><span style="color:#79B8FF;">%d</span><span style="color:#9ECBFF;">分&quot;</span><span style="color:#E1E4E8;">,add);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Sleep</span><span style="color:#E1E4E8;">(sleeptime);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">GetAsyncKeyState</span><span style="color:#E1E4E8;">(VK_UP) </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> status </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> D) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      status </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> U;</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">GetAsyncKeyState</span><span style="color:#E1E4E8;">(VK_DOWN) </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> status</span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;">U) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      status</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">D;</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">GetAsyncKeyState</span><span style="color:#E1E4E8;">(VK_LEFT)</span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> status</span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;">R) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      status</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">L;</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">GetAsyncKeyState</span><span style="color:#E1E4E8;">(VK_RIGHT)</span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> status</span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;">L) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      status</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">R;</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">GetAsyncKeyState</span><span style="color:#E1E4E8;">(VK_SPACE)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">pause</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">GetAsyncKeyState</span><span style="color:#E1E4E8;">(VK_ESCAPE)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      endgamestatus</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">snakemove</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">welcometogame</span><span style="color:#E1E4E8;">() {</span><span style="color:#6A737D;"> //开始界面</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">40</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">12</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">system</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;title 贪吃蛇&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">40</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;不倒翁 AIoT 创新创业协会欢迎你的到来&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">40</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">18</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;开启你的体验&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">40</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">25</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">system</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;pause&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">system</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;cls&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">endgame</span><span style="color:#E1E4E8;">() {</span><span style="color:#6A737D;"> //结束游戏</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">system</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;cls&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">24</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">12</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(endgamestatus</span><span style="color:#F97583;">==</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;对不起，您撞到墙了。游戏结束.&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(endgamestatus</span><span style="color:#F97583;">==</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;对不起，您咬到自己了。游戏结束.&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(endgamestatus</span><span style="color:#F97583;">==</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;您的已经结束了游戏。&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Pos</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">24</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">13</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;您的得分是</span><span style="color:#79B8FF;">%d\\\\</span><span style="color:#9ECBFF;">n&quot;</span><span style="color:#E1E4E8;">,score);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">exit</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">gamestart</span><span style="color:#E1E4E8;">() {</span><span style="color:#6A737D;"> //游戏初始化</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">system</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;mode con cols=100 lines=30&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">welcometogame</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">creatMap</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">initsnake</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">createfood</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">gamestart</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">gamecircle</span><span style="color:#E1E4E8;">();	</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">endgame</span><span style="color:#E1E4E8;">();	</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#032F62;">&lt;stdio.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#032F62;">&lt;time.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#032F62;">&lt;windows.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#032F62;">&lt;stdlib.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">#define</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">U</span><span style="color:#24292E;"> 1</span></span>
<span class="line"><span style="color:#D73A49;">#define</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">D</span><span style="color:#24292E;"> 2</span></span>
<span class="line"><span style="color:#D73A49;">#define</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">L</span><span style="color:#24292E;"> 3</span></span>
<span class="line"><span style="color:#D73A49;">#define</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">R</span><span style="color:#24292E;"> 4 //蛇的状态，U：上 ；D：下；L:左 R：右</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">typedef</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">struct</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SNAKE</span><span style="color:#24292E;"> {</span><span style="color:#6A737D;"> //蛇身的一个节点</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> x;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> y;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">struct</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SNAKE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">next;</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#6F42C1;">snake</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//全局变量//</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> score</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,add</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//总得分与每次吃食物得分。</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> status,sleeptime</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">300</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//每次运行的时间间隔</span></span>
<span class="line"><span style="color:#24292E;">snake </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">head, </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">food;</span><span style="color:#6A737D;">//蛇头指针，食物指针</span></span>
<span class="line"><span style="color:#24292E;">snake </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">q;</span><span style="color:#6A737D;">//遍历蛇的时候用到的指针</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> endgamestatus</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span><span style="color:#6A737D;"> //游戏结束的情况，1：撞到墙；2：咬到自己；3：主动退出游戏。</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> MapWidth </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">56</span><span style="color:#24292E;">, MapHeigth </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">26</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//声明全部函数//</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">creatMap</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">initsnake</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">biteself</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">createfood</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">cantcrosswall</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">snakemove</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">pause</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">gamecircle</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">welcometogame</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">endgame</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">gamestart</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">x</span><span style="color:#24292E;">,</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">y</span><span style="color:#24292E;">) {</span><span style="color:#6A737D;"> //设置光标位置</span></span>
<span class="line"><span style="color:#24292E;">    COORD pos;</span></span>
<span class="line"><span style="color:#24292E;">    HANDLE hOutput;</span></span>
<span class="line"><span style="color:#24292E;">    pos.X </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> x;</span></span>
<span class="line"><span style="color:#24292E;">    pos.Y </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> y;</span></span>
<span class="line"><span style="color:#24292E;">    hOutput </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">GetStdHandle</span><span style="color:#24292E;">( STD_OUTPUT_HANDLE);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">SetConsoleCursorPosition</span><span style="color:#24292E;">(hOutput,pos);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">creatMap</span><span style="color:#24292E;">() {</span><span style="color:#6A737D;"> //创建地图</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> i;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">; i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> MapWidth </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span><span style="color:#6A737D;"> //打印上下边框</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(i,</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;$&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(i, MapHeigth </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;$&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">; i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> MapHeigth </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span><span style="color:#6A737D;"> //打印左右边框</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,i);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;$&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(MapWidth </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,i);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;$&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">initsnake</span><span style="color:#24292E;">() {</span><span style="color:#6A737D;"> //初始化蛇身</span></span>
<span class="line"><span style="color:#24292E;">    snake </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">tail;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> i;</span></span>
<span class="line"><span style="color:#24292E;">    tail </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (snake</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)</span><span style="color:#6F42C1;">malloc</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">sizeof</span><span style="color:#24292E;">(snake));</span><span style="color:#6A737D;">//从蛇尾开始，头插法，以x,y设定开始的位置//</span></span>
<span class="line"><span style="color:#24292E;">    tail-&gt;x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">24</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    tail-&gt;y </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    tail-&gt;next </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(i</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">; i</span><span style="color:#D73A49;">&lt;=</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        head </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (snake</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)</span><span style="color:#6F42C1;">malloc</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">sizeof</span><span style="color:#24292E;">(snake));</span></span>
<span class="line"><span style="color:#24292E;">        head-&gt;next </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> tail;</span></span>
<span class="line"><span style="color:#24292E;">        head-&gt;x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">24</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> i;</span></span>
<span class="line"><span style="color:#24292E;">        head-&gt;y </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        tail </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> head;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">while</span><span style="color:#24292E;">(tail </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">) {</span><span style="color:#6A737D;"> //从头到为，输出蛇身</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(tail-&gt;x, tail-&gt;y);</span><span style="color:#6A737D;">// 移动光标</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;#&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        tail </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> tail-&gt;next;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">biteself</span><span style="color:#24292E;">() {</span><span style="color:#6A737D;"> //判断是否咬到了自己</span></span>
<span class="line"><span style="color:#24292E;">    snake </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">self;</span></span>
<span class="line"><span style="color:#24292E;">    self </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> head-&gt;next;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">while</span><span style="color:#24292E;">(self </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(self-&gt;x </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> head-&gt;x </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> self-&gt;y </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> head-&gt;y) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        self </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> self-&gt;next;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">createfood</span><span style="color:#24292E;">() {</span><span style="color:#6A737D;"> //随机出现食物</span></span>
<span class="line"><span style="color:#24292E;">    snake </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">food_1;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">srand</span><span style="color:#24292E;">((</span><span style="color:#D73A49;">unsigned</span><span style="color:#24292E;">)</span><span style="color:#6F42C1;">time</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">    food_1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (snake</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)</span><span style="color:#6F42C1;">malloc</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">sizeof</span><span style="color:#24292E;">(snake));</span></span>
<span class="line"><span style="color:#6A737D;">    // 保证食物在地图中</span></span>
<span class="line"><span style="color:#24292E;">    food_1-&gt;x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">rand</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">%</span><span style="color:#24292E;"> MapWidth </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    food_1-&gt;y </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">rand</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">%</span><span style="color:#24292E;"> MapHeigth </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#24292E;">    q </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> head;</span></span>
<span class="line"><span style="color:#6A737D;">    //检查蛇身是否与食物重合</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">while</span><span style="color:#24292E;">(q-&gt;next </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(q-&gt;x </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> food_1-&gt;x </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> q-&gt;y</span><span style="color:#D73A49;">==</span><span style="color:#24292E;">food_1-&gt;y) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">free</span><span style="color:#24292E;">(food_1);</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">createfood</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        q </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> q-&gt;next;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#6A737D;">    // 出现食物</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(food_1-&gt;x,food_1-&gt;y);</span></span>
<span class="line"><span style="color:#24292E;">    food </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> food_1;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;@&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">cantcrosswall</span><span style="color:#24292E;">() {</span><span style="color:#6A737D;"> //不能穿墙</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(head-&gt;x </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> head-&gt;x </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> MapWidth </span><span style="color:#D73A49;">||</span><span style="color:#24292E;">head-&gt;y</span><span style="color:#D73A49;">==</span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> head-&gt;y </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> MapHeigth) {</span></span>
<span class="line"><span style="color:#24292E;">        endgamestatus</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">endgame</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">snakemove</span><span style="color:#24292E;">() {</span><span style="color:#6A737D;"> //蛇前进,上U,下D,左L,右R</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">cantcrosswall</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">biteself</span><span style="color:#24292E;">()) {</span><span style="color:#6A737D;"> //判断是否会咬到自己</span></span>
<span class="line"><span style="color:#24292E;">        endgamestatus </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">endgame</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">      </span></span>
<span class="line"><span style="color:#24292E;">    snake </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> nexthead;</span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#24292E;">    nexthead</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">(snake</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)</span><span style="color:#6F42C1;">malloc</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">sizeof</span><span style="color:#24292E;">(snake));</span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(status</span><span style="color:#D73A49;">==</span><span style="color:#24292E;">U) {</span><span style="color:#6A737D;">// 向上移动</span></span>
<span class="line"><span style="color:#24292E;">        nexthead-&gt;x</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">head-&gt;x;</span></span>
<span class="line"><span style="color:#24292E;">        nexthead-&gt;y</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">head-&gt;y</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(status</span><span style="color:#D73A49;">==</span><span style="color:#24292E;">D) {</span><span style="color:#6A737D;">// 向下移动</span></span>
<span class="line"><span style="color:#24292E;">        nexthead-&gt;x</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">head-&gt;x;</span></span>
<span class="line"><span style="color:#24292E;">        nexthead-&gt;y</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">head-&gt;y</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(status</span><span style="color:#D73A49;">==</span><span style="color:#24292E;">L) {</span><span style="color:#6A737D;">// 向左移动</span></span>
<span class="line"><span style="color:#24292E;">        nexthead-&gt;x</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">head-&gt;x</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        nexthead-&gt;y</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">head-&gt;y;</span></span>
<span class="line"><span style="color:#24292E;">    }</span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(status</span><span style="color:#D73A49;">==</span><span style="color:#24292E;">R) {</span><span style="color:#6A737D;">// 向右移动</span></span>
<span class="line"><span style="color:#24292E;">        nexthead-&gt;x</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">head-&gt;x</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        nexthead-&gt;y</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">head-&gt;y;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(nexthead-&gt;x </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> food-&gt;x </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> nexthead-&gt;y</span><span style="color:#D73A49;">==</span><span style="color:#24292E;">food-&gt;y) {</span><span style="color:#6A737D;"> //如果下一个有食物//</span></span>
<span class="line"><span style="color:#24292E;">        nexthead-&gt;next </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> head;</span></span>
<span class="line"><span style="color:#24292E;">        head </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> nexthead;</span></span>
<span class="line"><span style="color:#24292E;">        q </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> head;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">while</span><span style="color:#24292E;">(q</span><span style="color:#D73A49;">!=</span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(q-&gt;x,q-&gt;y);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;#&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        q</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">q-&gt;next;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">      score </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> score </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> add;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">createfood</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">      } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span><span style="color:#6A737D;"> //如果没有食物//</span></span>
<span class="line"><span style="color:#24292E;">      nexthead-&gt;next </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> head;</span></span>
<span class="line"><span style="color:#24292E;">      head </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> nexthead;</span></span>
<span class="line"><span style="color:#24292E;">      q </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> head;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">while</span><span style="color:#24292E;">(q-&gt;next-&gt;next</span><span style="color:#D73A49;">!=</span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(q-&gt;x,q-&gt;y);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;#&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        q</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">q-&gt;next;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(q-&gt;next-&gt;x,q-&gt;next-&gt;y);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">free</span><span style="color:#24292E;">(q-&gt;next);</span></span>
<span class="line"><span style="color:#24292E;">      q-&gt;next</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">pause</span><span style="color:#24292E;">() {</span><span style="color:#6A737D;"> //暂停</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">while</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Sleep</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">300</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">GetAsyncKeyState</span><span style="color:#24292E;">(VK_SPACE)) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">gamecircle</span><span style="color:#24292E;">() {</span><span style="color:#6A737D;"> //控制游戏</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">64</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">15</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;不能穿墙，不能咬到自己&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">64</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">16</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;用↑.↓.←.→分别控制蛇的移动.&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">64</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">17</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;ESC ：退出游戏.space：暂停游戏.&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  status</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">R;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">while</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">64</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;得分：</span><span style="color:#005CC5;">%d</span><span style="color:#032F62;"> &quot;</span><span style="color:#24292E;">,score);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">64</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">11</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;每个食物得分：</span><span style="color:#005CC5;">%d</span><span style="color:#032F62;">分&quot;</span><span style="color:#24292E;">,add);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Sleep</span><span style="color:#24292E;">(sleeptime);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">GetAsyncKeyState</span><span style="color:#24292E;">(VK_UP) </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> status </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> D) {</span></span>
<span class="line"><span style="color:#24292E;">      status </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> U;</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">GetAsyncKeyState</span><span style="color:#24292E;">(VK_DOWN) </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> status</span><span style="color:#D73A49;">!=</span><span style="color:#24292E;">U) {</span></span>
<span class="line"><span style="color:#24292E;">      status</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">D;</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">GetAsyncKeyState</span><span style="color:#24292E;">(VK_LEFT)</span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> status</span><span style="color:#D73A49;">!=</span><span style="color:#24292E;">R) {</span></span>
<span class="line"><span style="color:#24292E;">      status</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">L;</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">GetAsyncKeyState</span><span style="color:#24292E;">(VK_RIGHT)</span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> status</span><span style="color:#D73A49;">!=</span><span style="color:#24292E;">L) {</span></span>
<span class="line"><span style="color:#24292E;">      status</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">R;</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">GetAsyncKeyState</span><span style="color:#24292E;">(VK_SPACE)) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">pause</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">GetAsyncKeyState</span><span style="color:#24292E;">(VK_ESCAPE)) {</span></span>
<span class="line"><span style="color:#24292E;">      endgamestatus</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">snakemove</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">welcometogame</span><span style="color:#24292E;">() {</span><span style="color:#6A737D;"> //开始界面</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">40</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">12</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">system</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;title 贪吃蛇&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">40</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">15</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;不倒翁 AIoT 创新创业协会欢迎你的到来&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">40</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">18</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;开启你的体验&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">40</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">25</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">system</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;pause&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">system</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;cls&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">endgame</span><span style="color:#24292E;">() {</span><span style="color:#6A737D;"> //结束游戏</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">system</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;cls&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">24</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">12</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(endgamestatus</span><span style="color:#D73A49;">==</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;对不起，您撞到墙了。游戏结束.&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(endgamestatus</span><span style="color:#D73A49;">==</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;对不起，您咬到自己了。游戏结束.&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(endgamestatus</span><span style="color:#D73A49;">==</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;您的已经结束了游戏。&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Pos</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">24</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">13</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;您的得分是</span><span style="color:#005CC5;">%d\\\\</span><span style="color:#032F62;">n&quot;</span><span style="color:#24292E;">,score);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">exit</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">gamestart</span><span style="color:#24292E;">() {</span><span style="color:#6A737D;"> //游戏初始化</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">system</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;mode con cols=100 lines=30&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">welcometogame</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">creatMap</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">initsnake</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">createfood</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">gamestart</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">gamecircle</span><span style="color:#24292E;">();	</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">endgame</span><span style="color:#24292E;">();	</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div>`,1);function C(D,d,B,g,u,f){const e=o("el-divider"),a=o("el-tag");return r(),c("div",null,[i,s(e),p("div",F,[s(a,null,{default:l(()=>[n("C")]),_:1}),s(a,null,{default:l(()=>[n("game")]),_:1}),s(a,null,{default:l(()=>[n("gluttonous snake")]),_:1})]),A])}const x=t(y,[["render",C]]);export{q as __pageData,x as default};
