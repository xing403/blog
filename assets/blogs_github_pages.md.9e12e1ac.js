import{_ as t,H as p,c,J as s,C as o,E as l,a,V as r,o as i}from"./chunks/framework.570b3096.js";const y="/blog/images/screenshot/github-pages-config.png",C="/blog/images/screenshot/github-pages-token-config.png",E=JSON.parse('{"title":"GitHub pages","description":"","frontmatter":{"title":"GitHub pages","layout":"doc"},"headers":[],"relativePath":"blogs/github/pages.md","filePath":"blogs/github/pages.md","lastUpdated":1696915125000}'),D={name:"blogs/github/pages.md"},A=o("h1",{id:"github-pages",tabindex:"-1"},[a("GitHub pages "),o("a",{class:"header-anchor",href:"#github-pages","aria-label":'Permalink to "GitHub pages"'},"​")],-1),F={style:{display:"flex",gap:"10px"}},h=r(`<h2 id="关于-github-pages" tabindex="-1">关于 GitHub Pages <a class="header-anchor" href="#关于-github-pages" aria-label="Permalink to &quot;关于 GitHub Pages&quot;">​</a></h2><p>GitHub Pages 是一项静态站点托管服务，它直接从 GitHub 上的仓库获取 HTML、CSS 和 JavaScript 文件，（可选）通过构建过程运行文件，然后发布网站。</p><h2 id="将打包好的文件提交到github" tabindex="-1">将打包好的文件提交到github <a class="header-anchor" href="#将打包好的文件提交到github" aria-label="Permalink to &quot;将打包好的文件提交到github&quot;">​</a></h2><ul><li>首先要创建一个仓库</li></ul><blockquote><p>提交命令</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">commit</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span></span></code></pre></div><h2 id="配置-github-pages" tabindex="-1">配置 GitHub Pages <a class="header-anchor" href="#配置-github-pages" aria-label="Permalink to &quot;配置 GitHub Pages&quot;">​</a></h2><p><img src="`+y+`" alt="github-pages-config"></p><h2 id="配置工作流" tabindex="-1">配置工作流 <a class="header-anchor" href="#配置工作流" aria-label="Permalink to &quot;配置工作流&quot;">​</a></h2><blockquote><p>无需本地打包，直接提交到仓库，把打包部署交给github</p></blockquote><h3 id="配置工作流-1" tabindex="-1">配置工作流 <a class="header-anchor" href="#配置工作流-1" aria-label="Permalink to &quot;配置工作流&quot;">​</a></h3><ol><li>在项目的 <code>.github/workflows</code> 下面创建一个 <code>release.yml</code> 文件</li><li>配置文件如下</li></ol><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Release</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF9CAC;">on</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">push</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">branches</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">master</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">jobs</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">release</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">runs-on</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ubuntu-latest</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">steps</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">uses</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">actions/checkout@v3</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">with</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">fetch-depth</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Install</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">uses</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">actions/setup-node@v3</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">with</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">node-version</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">16.x</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">run</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">npm i pnpm -g</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">run</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pnpm install</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Build</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">run</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">|</span></span>
<span class="line"><span style="color:#C3E88D;">          pnpm run docs:build</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Deploy</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">uses</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">peaceiris/actions-gh-pages@v3</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">with</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">github_token</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">\${{ secrets.ACCESS_TOKEN }}</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">publish_dir</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.vitepress/dist</span></span></code></pre></div><blockquote><p>这里有个参数<code>secrets.ACCESS_TOKEN</code> 需要 github 授权</p></blockquote><h4 id="创建-token" tabindex="-1">创建 token <a class="header-anchor" href="#创建-token" aria-label="Permalink to &quot;创建 token&quot;">​</a></h4><p>参照 <a href="./token.html">github token</a> 权限选择 repo 即可</p><h4 id="配置-token" tabindex="-1">配置 token <a class="header-anchor" href="#配置-token" aria-label="Permalink to &quot;配置 token&quot;">​</a></h4><p>进入需要配置token 的仓库，点击 <code>Settings</code> 选择 <code>Secrets</code> 添加一个 <code>ACCESS_TOKEN</code><img src="`+C+'" alt="github-pages-token-config"></p><h2 id="结束" tabindex="-1">结束 <a class="header-anchor" href="#结束" aria-label="Permalink to &quot;结束&quot;">​</a></h2><p>当每次仓库更新时，github 会自动打包部署</p>',20);function u(d,g,b,m,_,k){const e=p("el-divider"),n=p("el-tag");return i(),c("div",null,[A,s(e),o("div",F,[s(n,null,{default:l(()=>[a("github")]),_:1}),s(n,null,{default:l(()=>[a("pages")]),_:1}),s(n,null,{default:l(()=>[a("tools")]),_:1}),s(n,null,{default:l(()=>[a("automation")]),_:1})]),h])}const q=t(D,[["render",u]]);export{E as __pageData,q as default};
