import{p as o,U as s,q as a,O as l,S as i,aR as r,ah as e,m as d,F as y,a7 as E,T as F}from"./chunks/framework.7WxYM5Sz.js";const C=a("h1",{id:"cron-规则",tabindex:"-1"},[i("cron 规则 "),a("a",{class:"header-anchor",href:"#cron-规则","aria-label":'Permalink to "cron 规则"'},"​")],-1),A={style:{display:"flex",gap:"10px"}},D=a("h2",{id:"cron-表达式",tabindex:"-1"},[i("cron 表达式 "),a("a",{class:"header-anchor",href:"#cron-表达式","aria-label":'Permalink to "cron 表达式"'},"​")],-1),f=a("p",null,"Cron表达式是以5或6个空格隔开, 将内容分为6或7个域, 每一个域代表一个日期时间的格式",-1),P=a("h3",{id:"cron的格式",tabindex:"-1"},[i("Cron的格式 "),a("a",{class:"header-anchor",href:"#cron的格式","aria-label":'Permalink to "Cron的格式"'},"​")],-1),j=a("div",null,"从左到右 (用空格隔开) : 秒 分 小时 月份中的日期 月份 星期中的日期 [年份]",-1),q=a("h3",{id:"符号含义",tabindex:"-1"},[i("符号含义 "),a("a",{class:"header-anchor",href:"#符号含义","aria-label":'Permalink to "符号含义"'},"​")],-1),T=r('<h2 id="cron-举例" tabindex="-1">cron 举例 <a class="header-anchor" href="#cron-举例" aria-label="Permalink to &quot;cron 举例&quot;">​</a></h2><h3 id="每隔10秒执行一次" tabindex="-1">每隔10秒执行一次 <a class="header-anchor" href="#每隔10秒执行一次" aria-label="Permalink to &quot;每隔10秒执行一次&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cron </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;*/10 * * * * ?&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="每隔1分钟执行一次" tabindex="-1">每隔1分钟执行一次 <a class="header-anchor" href="#每隔1分钟执行一次" aria-label="Permalink to &quot;每隔1分钟执行一次&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cron </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;0 */1 * * * ?&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="每天23点执行一次" tabindex="-1">每天23点执行一次 <a class="header-anchor" href="#每天23点执行一次" aria-label="Permalink to &quot;每天23点执行一次&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cron </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;0 0 23 * * ?&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="每隔一小时30分钟执行一次" tabindex="-1">每隔一小时30分钟执行一次 <a class="header-anchor" href="#每隔一小时30分钟执行一次" aria-label="Permalink to &quot;每隔一小时30分钟执行一次&quot;">​</a></h3>',8),x=r('<p>当你直接定时一下格式时，看似每隔90分钟执行一次，其实并不是，而是60分钟执行一次，因为分钟的最大先限度60</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cron1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;0 */90 * * * ?&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>',2),w=r(`<p>需要多个表达式的组合进行执行</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cron1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;0 30 */3 * * ?&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 每隔三小时的30分钟执行一次</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cron2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;0 0 */3 * * ?&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 每隔三小时的0分钟执行一次</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 表达式执行1 开始时间：00:00:00 </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 依次执行时间 01:30:00, 04:30:00 07:30:00 ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 表达式2执行: 00:00:00, 03:00:00, 06:00:00 ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="每个月1号和15号执行一次" tabindex="-1">每个月1号和15号执行一次 <a class="header-anchor" href="#每个月1号和15号执行一次" aria-label="Permalink to &quot;每个月1号和15号执行一次&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cron </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;0 0 0 1,15 * ?&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="每个月的1号和15号和6号的12点执行一次" tabindex="-1">每个月的1号和15号和6号的12点执行一次 <a class="header-anchor" href="#每个月的1号和15号和6号的12点执行一次" aria-label="Permalink to &quot;每个月的1号和15号和6号的12点执行一次&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cron </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;0 0 12 1,15,6 * ?&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="周一到周五执行" tabindex="-1">周一到周五执行 <a class="header-anchor" href="#周一到周五执行" aria-label="Permalink to &quot;周一到周五执行&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cron </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;0 0 0 * * 1-5&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="每月的最后一天执行" tabindex="-1">每月的最后一天执行 <a class="header-anchor" href="#每月的最后一天执行" aria-label="Permalink to &quot;每月的最后一天执行&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cron </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;0 0 0 L * ?&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="每个月的最后一个星期五执行" tabindex="-1">每个月的最后一个星期五执行 <a class="header-anchor" href="#每个月的最后一个星期五执行" aria-label="Permalink to &quot;每个月的最后一个星期五执行&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cron </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;0 0 0 LW * ?&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,12),I=JSON.parse('{"title":"cron 规则","description":"","frontmatter":{"title":"cron 规则","layout":"doc"},"headers":[],"relativePath":"blogs/others/cron-rules.md","filePath":"blogs/others/cron-rules.md","lastUpdated":1695357329000}'),S={name:"blogs/others/cron-rules.md"},W=Object.assign(S,{setup(B){const c=[{name:"秒",value:"0~59的整数",symbol:", - * /"},{name:"分",value:"0~59的整数",symbol:", - * /"},{name:"小时",value:"0~23的整数",symbol:", - * /"},{name:"日期",value:"1~31的整数(根据当月判断)",symbol:", - * ? / L W C"},{name:"月份",value:"1~12的整数 或者 JAN-DEC(1为JAN)",symbol:", - * /"},{name:"星期",value:"1~7的整数 或者 SUN-SAT(1=SUN)",symbol:", - * ? / L C #"},{name:"年(可选)",value:"1970~2099的整数",symbol:", - * /"}],k=[{label:"*",value:"表示匹配该域的任意值"},{label:"?",value:"表示未说明的值，即不关心它为何值"},{label:"-",value:"表示一个指定的范围"},{label:"/",value:"表示起始时间开始触发，然后每隔固定时间触发一次（符号前表示开始时间，符号后表示每次递增的值）"},{label:",",value:"表示列出枚举值（指定数个值）"},{label:"L",value:"表示最后, 只能出现在DayofWeek和DayofMonth域"},{label:"W",value:"表示有效工作日(周一到周五),只能出现在DayofMonth域, 系统将在离指定日期的最近的有效工作日触发事件"},{label:"LW",value:"表示在某个月最后一个工作日，即最后一个星期五"},{label:"#",value:"用于确定每个月第几个星期几, 只能出现在DayofWeek域"},{label:"C",value:"指和calendar联系后计算过的值"}];return(N,V)=>{const u=e("el-divider"),h=e("el-tag"),n=e("el-alert"),b=e("el-space"),t=e("el-table-column"),g=e("el-table"),m=e("el-descriptions-item"),_=e("el-descriptions");return d(),o("div",null,[C,s(u),a("div",A,[s(h,null,{default:l(()=>[i("cron")]),_:1}),s(h,null,{default:l(()=>[i("tools")]),_:1})]),D,f,P,s(b,{fill:"","w-full":""},{default:l(()=>[j,s(n,{"show-icon":"",title:"年份为可选",type:"info",closable:!1})]),_:1}),s(g,{data:c,stripe:"",border:""},{default:l(()=>[s(t,{prop:"name",label:"名称"}),s(t,{prop:"value",label:"允许的数值"}),s(t,{prop:"symbol",label:"允许的符号"})]),_:1}),q,s(_,{border:"",column:1},{default:l(()=>[(d(),o(y,null,E(k,(p,v)=>s(m,{key:v,label:p.label},{default:l(()=>[i(F(p.value),1)]),_:2},1032,["label"])),64))]),_:1}),T,s(n,{"show-icon":"",title:"请注意",type:"warning",closable:!1}),x,s(n,{"show-icon":"",title:"正确的方式如下",type:"success",closable:!1}),w])}}});export{I as __pageData,W as default};
